<!-- NAVIGATION -->
<nav class="navbar navbar-default navbar-fixed-top">
	<div class="navbar-header">
		<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
			<span class="sr-only">Toggle navigation</span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
		<a class="navbar-brand">Got Dirt, Need Dirt</a>
	</div>
	<div id="navbar" class="navbar-collapse collapse">
		<div class="container-fluid">
			<ul class="nav navbar-nav navbar-right">
				<li class="navbar-text">Welcome {{name}}, you are signed in as a {{user_type}}.</li>
				<li ng-if="user_type=='contractor'"><a href="#/jobs">Post New Job</a></li>
				<li><a href="#/" ng-click="logout()">Logout</a></li>
			</ul>
		</div>
	</div><!--/.nav-collapse -->
</nav>

<!-- MAIN -->
<h1 ng-show="step<6">Create Job<hr></h1>

<!-- STEP 1 -->
<div ng-show="step==1">
	<form class="row" ng-submit="step=2; progress={'width':'25%'}">
		<h3 class="text-center">Let's create a new job</h3>
		<div class="form-group col-sm-7">
			<label>Type of Fill:</label>
			<select class="form-control" ng-init="new_job.type='Sand'" ng-model="new_job.type" ng-change="change()">
				<optgroup label="Compactable Fill">
					<option value="Sand">Sand</option>
					<option value="Sandyclay">Sandyclay</option>
					<option value="Clay">Clay</option>
					<option value="Gravel">Gravel</option>
					<option value="Recycled Asphalt">Recycled Asphalt</option>
					<option value="Recycled Concrete">Recycled Concrete</option>
					<option value="Recycled Base Material">Recycled Base Material</option>
				</optgroup>
				<optgroup label="Yard Fill">
					<option value="Clean Fill">Clean Fill</option>
					<option value="Rough Fill">Rough Fill</option>						
				</optgroup>
				<optgroup label="Topsoil">
					<option value="Topsoil - Nice">Topsoil - Nice</option>
					<option value="Topsoil - Average">Topsoil - Average</option>
					<option value="Topsoil - Economy">Topsoil - Economy</option>
					<option value="Peat">Peat</option>
				</optgroup>
				<optgroup label="Other">
					<option value="River Rock">River Rock</option>
					<option value="Rip-Rap">Rip-Rap</option>
					<option value="Boulders">Boulders</option>
					<option value="Asphalt Chunks">Asphalt Chunks</option>
					<option value="Concrete Chunks">Concrete Chunks</option>
					<option value="Contaminated Fill">Contaminated Fill</option>
					<option value="Snow">Snow</option>						
				</optgroup>
			</select>
			<hr>
			<p ng-bind="description"></p>
		</div>
		<div class="col-sm-5">			
			<img class="img-rounded center-block img_type" ng-src="{{src}}" alt="OOPS!">
		</div>
		<div style="margin-top: 20px;" class="col-sm-5 col-xs-12 pull-right">
			<input class="btn btn-primary center-block" type="submit" value="Next">
		</div>
	</form>
</div>

<!-- STEP 2 -->
<div ng-show="step==2">
	<form class="row" ng-submit="step = 3; progress={'width':'50%'}">
<!-- 		<div class="form-group">
			<div class="col-md-7">

				<div class="checkbox">
					<label>
						<input type="checkbox" ng-model="new_job.pickup_only">
						Pickup Only
					</label>
					<label>
						<input type="checkbox" ng-model="new_job.loader_onsite">
						Loader On-Site
					</label>
				</div>
				<div ng-if="!new_job.pickup_only">
					<h4>Drop-Off Location</h4>
					<input class="form-conrol" type="text" placeholder="Address" ng-model="new_job.address" required><br><br>
					<input class="form-conrol" type="text" placeholder="City" ng-model="new_job.city" required><br><br>
					<input class="form-conrol" type="number" placeholder="Zip Code" ng-model="new_job.zip" required><br><br>
				</div>
			</div>

		</div>
		<div class="form-group">
			<div class="col-md-2">
				<button class="btn btn-warning" type="button" ng-click="step=1; progress={'width':'30%'}">Previous</button>
			</div>
			<div class="col-md-2 col-md-offset-7">
				<input class="btn btn-primary" type="submit" value="Next">
			</div>
		</div> -->


		<h3 class="text-center" ng-bind="new_job.type"></h3>
		<div class="col-sm-7">
			<div class="form-group">
				<label>Volume (in cubic yards - yds<sup>3</sup>):</label><br>
				<input class="form-control" type="number" step="0.01" min="0.01" ng-model="new_job.amount" required><br>
				<button class="form-control btn btn-info" type="button" ng-click="step=7">Fill Calculator</button>
				<small class="form-text text-muted">You can input the volume of the load above or use the fill calculator to estimate the volume.</small>
			</div>
			<div class="form-group">
				<label>Desired Completion Date:</label>
				<input class="form-control" type="date" ng-model="new_job.completion_date" min="{{today|date:'yyyy-MM-dd'}}" required>
			</div>
		</div>
		<div class="col-sm-5 pull-right">
			<img class="img-rounded center-block img_type" ng-src="{{src}}" alt="OOPS!">
		</div>
		<div style="margin-top: 20px;" class="col-xs-12">
			<div class="col-sm-5 col-xs-6 pull-right">
				<input class="btn btn-primary center-block" type="submit" value="Next">
			</div>
			<div class="col-sm-7 col-xs-6">
				<button class="btn btn-default center-block" type="button" ng-click="step=1; progress={'width':'0%'}">Previous</button>
			</div>
		</div>
	</form>
</div>

<!-- STEP 3 -->
<div ng-show="step==3">
	<form class="row" ng-submit="step = 4; progress={'width':'75%'}">
<!-- 		<div class="form-group">
			<div class="col-md-7">

				<div class="checkbox">
					<label>
						<input type="checkbox" ng-model="new_job.pickup_only">
						Pickup Only
					</label>
					<label>
						<input type="checkbox" ng-model="new_job.loader_onsite">
						Loader On-Site
					</label>
				</div>
				<div ng-if="!new_job.pickup_only">
					<h4>Drop-Off Location</h4>
					<input class="form-conrol" type="text" placeholder="Address" ng-model="new_job.address" required><br><br>
					<input class="form-conrol" type="text" placeholder="City" ng-model="new_job.city" required><br><br>
					<input class="form-conrol" type="number" placeholder="Zip Code" ng-model="new_job.zip" required><br><br>
				</div>
			</div>

		</div>
		<div class="form-group">
			<div class="col-md-2">
				<button class="btn btn-warning" type="button" ng-click="step=1; progress={'width':'30%'}">Previous</button>
			</div>
			<div class="col-md-2 col-md-offset-7">
				<input class="btn btn-primary" type="submit" value="Next">
			</div>
		</div> -->


		<h3 class="text-center" ng-bind="new_job.type"></h3>
		<div class="col-sm-7">
			<div class="form-group">
				<label>Pick-Up Location:</label><br>
				<small class="form-text text-muted">This is where truckers will pick-up the load.</small>
				<input class="form-control" type="text" placeholder="Address" ng-model="new_job.address" required><br>
				<div class="row">
					<div class="col-xs-6">
						<input class="form-control" type="text" placeholder="City" ng-model="new_job.city" required>
					</div>
					<div class="col-xs-6">
						<input class="form-control" type="text" placeholder="Zip" ng-model="new_job.zip" required>
					</div>
				</div>
			</div>
			<fieldset class="form-check row">
				<label class="form-check-label col-xs-6">
					<input type="checkbox" class="form-check-input" ng-model="new_job.pickup_only">
					Pick-Up Only<br>
					<small class="form-text text-muted">Check this if you don't need the load dropped off.</small>
				</label>
				<label class="form-check-label col-xs-6">
					<input type="checkbox" class="form-check-input" ng-model="new_job.loader_onsite">
					Loader at Pick-Up<br>
					<small class="form-text text-muted">Check this if loaders will assist at the pick-up location.</small>
				</label>
			</fieldset>			
		</div>
		<div class="col-sm-5">
			<img class="img-rounded center-block img_type" ng-src="{{src}}" alt="OOPS!">
		</div>
		<div style="margin-top: 20px;" class="col-xs-12">
			<div class="col-sm-5 col-xs-6 pull-right">
				<input class="btn btn-primary center-block" type="submit" value="Next">
			</div>
			<div class="col-sm-7 col-xs-6">
				<button class="btn btn-default center-block" type="button" ng-click="step=2; progress={'width':'25%'}">Previous</button>
			</div>
		</div>
	</form>
</div>

<!-- STEP 4 -->
<div ng-show="step==4">
	<form class="row" ng-submit="step = 5; progress={'width':'99%'}">
<!-- 		<div class="form-group">
			<div class="col-md-7">

				<div class="checkbox">
					<label>
						<input type="checkbox" ng-model="new_job.pickup_only">
						Pickup Only
					</label>
					<label>
						<input type="checkbox" ng-model="new_job.loader_onsite">
						Loader On-Site
					</label>
				</div>
				<div ng-if="!new_job.pickup_only">
					<h4>Drop-Off Location</h4>
					<input class="form-conrol" type="text" placeholder="Address" ng-model="new_job.address" required><br><br>
					<input class="form-conrol" type="text" placeholder="City" ng-model="new_job.city" required><br><br>
					<input class="form-conrol" type="number" placeholder="Zip Code" ng-model="new_job.zip" required><br><br>
				</div>
			</div>

		</div>
		<div class="form-group">
			<div class="col-md-2">
				<button class="btn btn-warning" type="button" ng-click="step=1; progress={'width':'30%'}">Previous</button>
			</div>
			<div class="col-md-2 col-md-offset-7">
				<input class="btn btn-primary" type="submit" value="Next">
			</div>
		</div> -->


		<h3 class="text-center" ng-bind="new_job.type"></h3>
		<div class="col-sm-7">
			<div class="form-group">
				<label>Drop-Off Location:</label><br>
				<small class="form-text text-muted">This is where truckers will drop-off the load.</small>
				<input class="form-control" type="text" placeholder="Address" ng-model="new_job.d_address" ng-disabled="new_job.pickup_only" ng-required="!new_job.pickup_only"><br>
				<div class="row">
					<div class="col-xs-6">
						<input class="form-control" type="text" placeholder="City" ng-model="new_job.d_city" ng-disabled="new_job.pickup_only" ng-required="!new_job.pickup_only">
					</div>
					<div class="col-xs-6">
						<input class="form-control" type="text" placeholder="Zip" ng-model="new_job.d_zip" ng-disabled="new_job.pickup_only" ng-required="!new_job.pickup_only">
					</div>
				</div>
			</div>
			<fieldset class="form-check row">
				<label class="form-check-label col-xs-6 pull-right">
					<input type="checkbox" class="form-check-input" ng-model="new_job.d_loader_onsite" ng-disabled="new_job.pickup_only">
					Loader at Drop-Off<br>
					<small class="form-text text-muted">Check this if loaders will assist at the drop-off location.</small>
				</label>
			</fieldset>				
			<b style="color: darkorange" ng-if="new_job.pickup_only">You can skip this step since you've specified this is pick-up only.</b>
		</div>
		<div class="col-sm-5">
			<img class="img-rounded center-block img_type" ng-src="{{src}}" alt="OOPS!">
		</div>
		<div style="margin-top: 20px;" class="col-xs-12">
			<div class="col-sm-5 col-xs-6 pull-right">
				<input class="btn btn-primary center-block" type="submit" value="Next">
			</div>
			<div class="col-sm-7 col-xs-6">
				<button class="btn btn-default center-block" type="button" ng-click="step=3; progress={'width':'50%'}">Previous</button>
			</div>
		</div>
	</form>
</div>

<!-- STEP 5: VERIFICATION -->
<div ng-show="step==5">
	<h3>Review the details before it goes live:</h3>
	<div class="row">
		<div class="col-sm-7">
			<table class="table table-bordered">
				<tr>
					<th>Type:</th>
					<td ng-bind="new_job.type"></td>
				</tr>
				<tr>
					<th>Volume:</th>
					<td>{{new_job.amount}} yds<sup>3</sup></td>
				</tr>
				<tr>
					<th>Completion Date:</th>
					<td ng-bind="new_job.completion_date | date:'fullDate'"></td>
				</tr>
				<tr>
					<th>Distance:</th>
					<td>scope.distance miles</td>
				</tr>
				<tr>
					<th>Estimated Cost:</th>
					<td>$cost here</td>
				</tr>
			</table>
			<p style="color: darkorange">*Cost is an estimate and may change depending on truck capacity.</p>
		</div>
		<div class="col-sm-5">
			<fieldset class="form-check">
				<label class="form-check-label">
					<input type="checkbox" class="form-check-input" ng-model="new_job.pickup_only" disabled>
					Pick-Up Only
				</label><br>
				<label class="form-check-label">
					<input type="checkbox" class="form-check-input" ng-model="new_job.loader_onsite" disabled>
					Loader at Pick-Up
				</label><br>
				<label class="form-check-label" ng-if="!new_job.pickup_only">
					<input type="checkbox" class="form-check-input" ng-model="new_job.d_loader_onsite" disabled>
					Loader at Drop-Off
				</label>
			</fieldset>					
		<hr>
		</div>
		<div class="col-xs-6">
			<label>Pick-Up Location</label>
			<p>{{new_job.address}}<br>{{new_job.city}}, {{new_job.zip}}</p>
		</div>
		<div class="col-xs-6 text-right" ng-if="!new_job.pickup_only">
			<label>Drop-Off Location</label>
			<p>{{new_job.d_address}}<br>{{new_job.d_city}}, {{new_job.d_zip}}</p>
		</div>
		<div class="col-xs-6 text-right" ng-if="new_job.pickup_only">
			<fieldset class="form-check">
				<label class="form-check-label">
					<input type="checkbox" class="form-check-input" checked disabled>
					Find somewhere to drop it off<br>
					<small class="form-text text-muted">Truckers are free to do as they please with the dirt after pick-up.</small>					
				</label><br>
			</fieldset>	
		</div>
		<div style="margin-top: 20px;" class="col-xs-12">
			<div class="col-xs-6">
				<button class="btn btn-default center-block" ng-click="step=4; progress={'width':'75%'}">Edit Details</button>			
			</div>
			<div class="col-xs-6">
				<button class="btn btn-primary center-block" ng-click="create()">List Job</button>
			</div>
			<b class="error text-center" ng-bind="error"></b>
		</div>
	</div>
</div>

<!-- STEP 6: SUCCESS -->
<div class="center-content" ng-show="step==6">
	<h1>Success!</h1>
	<p>Your job is now live.</p>
	<p>Truckers in the area will be notified and will reach out to assist you.</p>
	<p>you can check out your inbox below to see who has reached out. Or you can view your listed job.</p>
	<a href="#/messages"><button class="btn btn-info">Messages</button></a>
	<a href="#/jobs/{{id}}"><button class="btn btn-primary">View Job</button></a>
</div>

<!-- STEP 7: FILL CALCULATOR -->
<div class="row" ng-show="step==7">
	<h1>Fill Calculator</h1>
	<form ng-submit="setAmount()">
		<label>What shape best represents the amount you're trying to fill?</label><br>
		<label>
			<input type="radio" name="shape" ng-model="shape" value="1" required>
			Shape 1 here
		</label><br>
		<label>
			<input type="radio" name="shape" ng-model="shape" value="2" required>
			Shape 2 here
		</label><br>
		<label>
			<input type="radio" name="shape" ng-model="shape" value="3" required>
			Shape 3 here
		</label><br>
		<label>
			<input type="radio" name="shape" ng-model="shape" value="4" required>
			Shape 4 here
		</label><br>
		<label>
			<input type="radio" name="shape" ng-model="shape" value="5" required>
			Shape 5 here
		</label><br>
		<label>
			<input type="radio" name="shape" ng-model="shape" value="6" required>
			Shape 6 here
		</label><br>
		<label>Length (yards)</label><br>
		<input type="number" step="0.01" ng-model="length" required><br>
		<label>Depth (yards)</label><br>
		<input type="number" step="0.01" ng-model="depth" required><br>
		<label>Height (yards)</label><br>
		<input type="number" step="0.01" ng-model="height" required><br>
		<label>Looks like you'll need:</label><br>
		<b>{{(length*depth*height)|number:2}} cubic yards</b>
		<hr>
		<button type="button" ng-click="step=2">Return to Form</button><input type="submit" value="Use This Amount">
	</form>
</div>

<!-- STATUS BAR -->
	<hr>
<div class="row" ng-show="step<6">
	<div class="col-xs-12">
		<h1 class="text-center">Step {{step}}</h1>
		<div class="progress">
			<div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="progress">
			</div>
		</div>
	</div>
</div>
