<!-- NAVIGATION -->

<!-- MAIN -->
<h1 ng-show="step<4">Create Job</h1>

<!-- STEP 1 -->
<div ng-show="step==1">
	<form ng-submit="step=2; progress={'width':'60%'}">
		<div class="row">
			<div class="col-md-7">
				<h4>Amout of Dirt (in cubic yards):</h4>
				<input class="form-control" type="number" step="0.01" min="0.01" ng-model="new_job.amount" required><br>
				<button class="btn btn-info" type="button" ng-click="step=5">Fill Calculator</button>
				<h4>Desired Completion Date:</h4>
				<input class="form-control" type="date" ng-model="new_job.completion_date" min="{{today|date:'yyyy-MM-dd'}}" required><br>
			</div>
			<div class="col-md-3 col-md-offset-1">
				<img class="img-responsive center-block" src="../static/images/shovel.PNG" alt="OOPS!">
			</div>
			<div class="row">
				<div class="col-md-2 col-md-offset-9">
					<input class="btn btn-primary" type="submit" value="Next">
				</div>
			</div>
		</div>
	</form>
</div>

<div ng-show="step==2">
	<form class="form-horizontal" ng-submit="step = 3; progress={'width':'90%'}">
		<div class="form-group">
			<div class="col-md-7">
				<h4>What type of dirt:</h4>
				<select ng-init="new_job.type='Sand'" ng-model="new_job.type">
					<option value="Sand">Sand</option>
					<option value="Sandyclay">Sandyclay</option>
					<option value="Clay">Clay</option>
					<option value="Gravel">Gravel</option>
					<option value="Recycled Asphalt">Recycled Asphalt</option>
					<option value="Recycled Concrete">Recycled Concrete</option>
					<option value="Recycled Base Material">Recycled Base Material</option>
					<option value="Clean Fill">Clean Fill</option>
					<option value="Rough Fill">Rough Fill</option>
					<option value="Topsoil - Nice">Topsoil - Nice</option>
					<option value="Topsoil - Average">Topsoil - Average</option>
					<option value="Topsoil - Economy">Topsoil - Economy</option>
					<option value="Peat">Peat</option>
					<option value="River Rock">River Rock</option>
					<option value="Rip-Rap">Rip-Rap</option>
					<option value="Boulders">Boulders</option>
					<option value="Asphalt Chunks">Asphalt Chunks</option>
					<option value="Concrete Chunks">Concrete Chunks</option>
					<option value="Contaminated Fill">Contaminated Fill</option>
					<option value="Snow">Snow</option>
				</select>
				<p ng-show="new_job.type=='Sand'">Natural or screened / washed / crushed granular that can be compacted</p>
				<p ng-show="new_job.type=='Sandyclay'">Contains both sand and clay.</p>
				<p ng-show="new_job.type=='Clay'">Clay that can be compacted.</p>
				<p ng-show="new_job.type=='Gravel'">Natural or screened / washed / crushed rock that can be compacted.</p>
				<p ng-show="new_job.type=='Recycled Asphalt'">Crushed for reuse, from a recycling plant or staging area.</p>
				<p ng-show="new_job.type=='Recycled Concrete'">	Crushed for reuse, from a recycling plant or staging area.</p>
				<p ng-show="new_job.type=='Recycled Base Material'">Ready for reuse, from under roads &amp; parking lots.</p>
				<p ng-show="new_job.type=='Clean Fill'">Sand, sandyclay, clay, topsoil or a mixture of any of these with less than 5% clumps or rocks or sod or roots or weeds or concrete chunks, etc.</p>
				<p ng-show="new_job.type=='Rough Fill'">Same as Clean Fill, with 5% or more clumps or rocks or sod or roots or weeds, or concrete chunks, etc. Also gumbo clay and marsh bottom.</p>
				<p ng-show="new_job.type=='Topsoil - Nice'">High quality, rich black organic, natural or screened.</p>
				<p ng-show="new_job.type=='Topsoil - Average'">Average quality, medium black organic, little or no clumps, rocks, sod, or roots, etc.</p>
				<p ng-show="new_job.type=='Topsoil - Economy'">Low quality, some black organic, could have some clumps, rocks, sod, or roots, etc.</p>
				<p ng-show="new_job.type=='Peat'">Decomposed plant material, marsh bottom, could be wet or dry.</p>
				<p ng-show="new_job.type=='River Rock'">Rounded stones varies in color, 1/2 inch to 3 inches.</p>
				<p ng-show="new_job.type=='Rip-Rap'">Rock, 3 inches to 10 inches.</p>
				<p ng-show="new_job.type=='Boulders'">Rock, larger than 10 inches.</p>
				<p ng-show="new_job.type=='Asphalt Chunks'">Broken pieces of asphalt, not been recycled.</p>
				<p ng-show="new_job.type=='Concrete Chunks'">Broken pieces of concrete, not been recycled.</p>
				<p ng-show="new_job.type=='Contaminated Fill'">Dirtfill with gas, diesel fuel, PCBs, toxic chemicals, etc.</p>
				<p ng-show="new_job.type=='Snow'">Removed from streets, parking lots or driveways.</p>
				<div class="checkbox">
					<label>
						<input type="checkbox" ng-model="new_job.pickup_only">
						Pickup Only
					</label>
					<label>
						<input type="checkbox" ng-model="new_job.loader_onsite">
						Loader On-Site
					</label>
				</div>
				<div ng-if="!new_job.pickup_only">
					<h4>Drop-Off Location</h4>
					<input class="form-conrol" type="text" placeholder="Address" ng-model="new_job.address" required><br><br>
					<input class="form-conrol" type="text" placeholder="City" ng-model="new_job.city" required><br><br>
					<input class="form-conrol" type="number" placeholder="Zip Code" ng-model="new_job.zip" required><br><br>
				</div>
			</div>
			<div class="col-md-3 col-md-offset-1">
				<img class="img-responsive center-block" src="../static/images/shovel.PNG" alt="OOPS!">
			</div>
		</div>
		<div class="form-group">
			<div class="col-md-2">
				<button class="btn btn-warning" type="button" ng-click="step=1; progress={'width':'30%'}">Previous</button>
			</div>
			<div class="col-md-2 col-md-offset-7">
				<input class="btn btn-primary" type="submit" value="Next">
			</div>
		</div>
	</form>
</div>

<!-- STEP 3: VERIFICATION -->
<div class="row" ng-show="step==3">
	<p>Review the details before it goes live:</p><br>
	<div class="col-md-6">
		<table>
			<tr>
				<th>Completion Date:</th>
				<td>{{new_job.completion_date|date:'fullDate'}}</td>
			</tr>
			<tr>
				<th>Amount of Dirt:</th>
				<td>{{new_job.amount}} cubic yards</td>
			</tr>
			<tr>
				<th>Distance:</th>
				<td>scope.distance miles</td>
			</tr>
			<tr>
				<th>Pickup Location:</th>
				<td>new_job.address here? I have questions about this...</td>
			</tr>
			<tr>
				<th>Estimated Cost:</th>
				<td>$cost here</td>
			</tr>
		</table>
		<label>
			<input type="checkbox" ng-model="new_job.pickup_only" disabled>
			Pickup Only
		</label>
		<label>
			<input type="checkbox" ng-model="new_job.loader_onsite" disabled>
			Loader On-Site
		</label>
		<p>*Cost is an estimate and may change depending on truck size.</p>
	</div>
	<div class="col-md-2">
		<button class="btn btn-warning" type="button" ng-click="step=1; progress={'width':'30%'}">Edit</button>
	</div>
	<div class="row">
		<div class="col-md-2 col-md-offset-6">
			<button class="btn btn-primary" ng-click="create()">Place Job</button>
		</div>
	</div>
	<p class="error" ng-bind="error"></p>
</div>

<!-- STEP 4: SUCCESS -->
<div class="row center-content" ng-show="step==4">
	<h1>Success!</h1>
	<p>Your job is now live.</p>
	<p>You can now view the new job to make edits and upload pictures.</p>
	<a href="#/jobs/{{id}}"><button class="btn btn-primary">View Job</button></a>
</div>

<!-- STEP 5/FILL CALCULATOR -->
<div class="row" ng-show="step==5">
	<h1>Fill Calculator</h1>
	<form ng-submit="setAmount()">
		<label>What shape best represents the amount you're trying to fill?</label><br>
		<label>
			<input type="radio" name="shape" ng-model="shape" value="1" required>
			Shape 1 here
		</label><br>
		<label>
			<input type="radio" name="shape" ng-model="shape" value="2" required>
			Shape 2 here
		</label><br>
		<label>
			<input type="radio" name="shape" ng-model="shape" value="3" required>
			Shape 3 here
		</label><br>
		<label>
			<input type="radio" name="shape" ng-model="shape" value="4" required>
			Shape 4 here
		</label><br>
		<label>
			<input type="radio" name="shape" ng-model="shape" value="5" required>
			Shape 5 here
		</label><br>
		<label>
			<input type="radio" name="shape" ng-model="shape" value="6" required>
			Shape 6 here
		</label><br>
		<label>Length (yards)</label><br>
		<input type="number" step="0.01" ng-model="length" required><br>
		<label>Depth (yards)</label><br>
		<input type="number" step="0.01" ng-model="depth" required><br>
		<label>Height (yards)</label><br>
		<input type="number" step="0.01" ng-model="height" required><br>
		<label>Looks like you'll need:</label><br>
		<b>{{(length*depth*height)|number:2}} cubic yards</b>
		<hr>
		<button type="button" ng-click="step=1">Return to Form</button><input type="submit" value="Use This Amount">
	</form>
</div>

<!-- STATUS BAR -->
<div class="row" ng-show="step<4">
	<hr>
	<h1>Step {{step}}</h1>
	<div class="progress">
		<div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" ng-style="progress">
		</div>
	</div>
</div>
